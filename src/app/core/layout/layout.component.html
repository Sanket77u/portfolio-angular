<header
  class="sticky top-0 z-50 glass-header border-b border-gray-200 dark:border-gray-800"
>
  <div
    class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between"
  >
    <a
      class="flex items-center gap-3 font-extrabold text-2xl tracking-wider logo-glow"
      routerLink="/"
    >
      <span
        class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-brand to-purple-600 text-white text-xl font-black shadow-lg"
        >S</span
      >
      <span class=" sm:inline font-display dark:text-black"
        >Sanket Uphade</span
      >
    </a>

    <nav aria-label="Primary" class="hidden md:flex items-center gap-8">
      <a
        routerLink="/"
        routerLinkActive="nav-active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="nav-link"
        >Home</a
      >
      <a routerLink="/about" routerLinkActive="nav-active" class="nav-link"
        >About</a
      >
      <a routerLink="/experience" routerLinkActive="nav-active" class="nav-link"
        >Experience</a
      >
      <a routerLink="/skills" routerLinkActive="nav-active" class="nav-link"
        >Skills</a
      >
      <a routerLink="/projects" routerLinkActive="nav-active" class="nav-link"
        >Projects</a
      >
      <a
        routerLink="/achievements"
        routerLinkActive="nav-active"
        class="nav-link"
        >Achievements</a
      >
      <a routerLink="/contact" routerLinkActive="nav-active" class="nav-link"
        >Contact</a
      >
    </nav>

    <div class="flex items-center gap-3">
      <button
        (click)="toggleTheme()"
        class="relative p-3 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 dark:from-gray-700 dark:to-gray-900 hover:shadow-2xl hover:scale-110 transition-all duration-300 group overflow-hidden"
        aria-label="Toggle theme"
      >
        <!-- Animated background glow -->
        <span class="absolute inset-0 bg-white/20 dark:bg-white/10 rounded-full blur-xl group-hover:blur-2xl transition-all duration-300"></span>
        
        <!-- Icon container with rotation -->
        <span class="relative block w-6 h-6 transition-transform duration-500 group-hover:rotate-180">
          <span *ngIf="isDark; else sun" class="absolute inset-0 flex items-center justify-center">
            <svg class="w-6 h-6 text-yellow-300" fill="currentColor" viewBox="0 0 24 24">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </span>
          <ng-template #sun>
            <span class="absolute inset-0 flex items-center justify-center">
              <svg class="w-6 h-6 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
              </svg>
            </span>
          </ng-template>
        </span>
      </button>

      <button
        (click)="mobileOpen = !mobileOpen"
        class="md:hidden p-2 rounded-xl hover:bg-white/30 dark:hover:bg-gray-800/40 transition-colors shadow-md"
        aria-label="Open menu"
      >
        <span class="text-2xl">☰</span>
      </button>
    </div>
  </div>

  <div
    *ngIf="mobileOpen"
    class="md:hidden border-t border-gray-200 dark:border-gray-800 glass-header"
  >
    <nav class="px-4 py-3 space-y-2">
      <a routerLink="/" (click)="mobileOpen = false" class="block py-2 nav-link"
        >Home</a
      >
      <a
        routerLink="/about"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >About</a
      >
      <a
        routerLink="/experience"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >Experience</a
      >
      <a
        routerLink="/skills"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >Skills</a
      >
      <a
        routerLink="/projects"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >Projects</a
      >
      <a
        routerLink="/achievements"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >Achievements</a
      >
      <a
        routerLink="/contact"
        (click)="mobileOpen = false"
        class="block py-2 nav-link"
        >Contact</a
      >
    </nav>
  </div>
</header>

<main
  class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-950 dark:to-purple-900 relative overflow-x-hidden"
>
  <!-- 3D Canvas placeholder for future use -->
  <div
    id="three-canvas"
    class="absolute top-0 left-0 w-full h-full pointer-events-none z-0"
  ></div>
  <div class="relative z-10">
    <router-outlet></router-outlet>
  </div>
</main>

<footer class="border-t border-gray-200 dark:border-gray-800 glass-footer">
  <div
    class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 text-sm text-gray-500 dark:text-gray-400 flex flex-col sm:flex-row gap-4 sm:items-center justify-between"
  >
    <p>© {{ year }} Sanket Uphade. All rights reserved.</p>
    <div class="flex gap-4">
      <a
        href="https://github.com/sanket-uphade077"
        target="_blank"
        rel="noopener"
        class="footer-link"
        >GitHub</a
      >
      <a
        href="https://codeforces.com/profile/Sanket77u"
        target="_blank"
        rel="noopener"
        class="footer-link"
        >Codeforces</a
      >
      <a href="mailto:sanket77gmail.com" class="footer-link">Email</a>
    </div>
  </div>
</footer>
